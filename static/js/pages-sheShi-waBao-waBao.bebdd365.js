(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sheShi-waBao-waBao"],{4350:function(t,e,a){"use strict";a.r(e);var n=a("c4cf"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},"570e":function(t,e,a){"use strict";a.r(e);var n=a("bbb9"),i=a("4350");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("f61a");var r,o=a("f0c5"),u=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"3f2dc778",null,!1,n["a"],r);e["default"]=u.exports},"5f52":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".lightBG[data-v-3f2dc778]{background-color:#192152}.btn[data-v-3f2dc778]{display:inline-block}.outerr .outer[data-v-3f2dc778]{position:relative;height:%?936?%;overflow:hidden;background-color:#310030;box-sizing:border-box}.outerr .outer .title[data-v-3f2dc778]{margin-top:%?10?%;position:absolute;width:100%;text-align:center;color:#ffbeb8;font-weight:600}.outerr .outer .ulClass[data-v-3f2dc778]{height:%?720?%;margin-top:%?70?%;box-sizing:border-box;padding:0 %?100?%}.outerr .outer .ulClass .liClass2[data-v-3f2dc778]{padding:%?20?% %?30?% %?20?% %?25?%;line-height:%?70?%}.outerr .outer .ulClass .liClass2 .item[data-v-3f2dc778]{text-align:center;width:%?112?%;margin-left:%?40?%}.outerr .outer .ulClass .line[data-v-3f2dc778]{margin-top:%?10?%;height:%?2?%;background-color:#fff}.outerr .outer .ulClass .liClass[data-v-3f2dc778]{height:%?70?%;line-height:%?70?%}.outerr .outer .backBtn[data-v-3f2dc778]{z-index:6;position:absolute;bottom:%?50?%;left:%?40?%}",""]),t.exports=e},a4af:function(t,e,a){var n=a("5f52");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0b6f59ac",n,!0,{sourceMap:!1,shadowMode:!1})},bbb9:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={myBar:a("dd55").default,towBorder:a("39a9").default,colorsBtn:a("994c").default,yBtn:a("7c7e").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"outerr",class:t.cant?"CANTTAP":""},[a("myBar"),a("v-uni-view",{staticClass:"outer"},[a("towBorder",{staticStyle:{"z-index":"4"}}),a("v-uni-view",{staticClass:"title"},[a("v-uni-text",[t._v("挖宝")])],1),a("v-uni-scroll-view",{staticClass:"ulClass",attrs:{"scroll-y":"true"}},[a("v-uni-text",{staticClass:"liClass"},[t._v("剩余挖宝次数："+t._s(t.leftTime)+"\\n")]),a("v-uni-text",{staticClass:"liClass"},[t._v(t._s(t.resultText))]),a("v-uni-view",{staticClass:"line"}),a("v-uni-view",{staticClass:"liClass2"},t._l(t.items,(function(e,n){return a("v-uni-view",{key:n,staticClass:"btn"},[e.hasWa?a("v-uni-view",{staticClass:"item"},[a("v-uni-text",{style:"color: "+("挖空"==e.text?"":"gold")+";"},[t._v(t._s(e.text))])],1):a("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wa(n)}}},[a("colorsBtn",{attrs:{color:"p",text:e.text,recovery:e.stopBtn}})],1)],1)})),1),a("v-uni-view",{staticClass:"line"}),t._l(t.allInf,(function(e,n){return a("v-uni-view",{key:n,staticClass:"liClass"},[a("v-uni-text",[t._v(t._s(e.time+" "))]),a("v-uni-text",{staticStyle:{color:"gold"}},[t._v(t._s(e.nikename+" "))]),a("v-uni-text",[t._v("挖到"+t._s(e.content))])],1)}))],2),a("v-uni-view",{staticClass:"backBtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[a("yBtn",{attrs:{buttonType:"text",text:"返回",stopFlash:"no"}})],1)],1)],1)},s=[]},c4cf:function(t,e,a){"use strict";(function(t,n){var i=a("4ea4");a("7db0"),a("caad"),a("d3b7"),a("25f0"),a("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("b85c"));a("96cf");var r=i(a("1da1")),o=t.database(),u={data:function(){return{cant:!1,leftTime:200,resultText:"请挖宝",defItems:[{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1},{hasWa:!1,text:"挖宝",stopBtn:!1}],items:void 0,allInf:void 0}},methods:{wa:function(e){var a=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.cant=!0,i.next=3,t.callFunction({name:"MY-USERFUNCTION",data:{action:"waBao",params:{accountId:uni.getStorageSync("accountId")}}});case 3:if(s=i.sent,!s.result.errCode){i.next=8;break}uni.showModal({showCancel:!1,content:s.result.msg}),i.next=20;break;case 8:if(a.resultText=s.result.text,a.items[e].text=a.getText(s.result.text),a.allInf=s.result.allInf,a.items[e].hasWa=!0,a.leftTime--,a.items[e].stopBtn=!0,a.items.find((function(t){return"挖宝"==t.text}))){i.next=19;break}return i.next=17,new Promise((function(t){setTimeout((function(){t()}),100)}));case 17:a.items=JSON.parse(JSON.stringify(a.defItems)),n.log(JSON.stringify(a.items));case 19:a.cant=!1;case 20:case"end":return i.stop()}}),i)})))()},getText:function(t){return t.includes("银两")?"银两":t.includes("药")||t.includes("散")||t.includes("膏")||t.includes("丸")||t.includes("丹")||t.includes("汤")||t.includes("酒")||t.includes("露")?"药":t},back:function(){uni.navigateBack()}},created:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,n,i,r,u,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.items=JSON.parse(JSON.stringify(t.defItems)),uni.showLoading({title:"",showCancel:!1}),e.next=4,o.collection("sign").field({wabao:!0}).get();case 4:return a=e.sent,t.leftTime=a.result.data[0].wabao[uni.getStorageSync("accountId")]?200-a.result.data[0].wabao[uni.getStorageSync("accountId")]:200,e.next=8,o.collection("wabao-message").orderBy("time","desc").limit(20).get();case 8:n=e.sent,i=(0,s.default)(n.result.data);try{for(i.s();!(r=i.n()).done;)u=r.value,l=new Date(u.time).getHours(),c=new Date(u.time).getMinutes(),u.time=(l.toString().length<2?0+l:l)+":"+(c.toString().length<2?0+c:c)}catch(d){i.e(d)}finally{i.f()}t.allInf=n.result.data,uni.hideLoading();case 13:case"end":return e.stop()}}),e)})))()}};e.default=u}).call(this,a("a9ff")["default"],a("5a52")["default"])},f61a:function(t,e,a){"use strict";var n=a("a4af"),i=a.n(n);i.a}}]);