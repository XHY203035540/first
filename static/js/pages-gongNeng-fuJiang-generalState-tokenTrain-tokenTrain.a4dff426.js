(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-gongNeng-fuJiang-generalState-tokenTrain-tokenTrain"],{"112a":function(e,t,n){"use strict";n.r(t);var a=n("a884"),o=n("c069");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("fa25");var i,u=n("f0c5"),s=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"3af7047e",null,!1,a["a"],i);t["default"]=s.exports},"50f5":function(e,t,n){var a=n("a3b9");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("6ca7abb2",a,!0,{sourceMap:!1,shadowMode:!1})},a3b9:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".btn[data-v-3af7047e]{display:inline-block;float:right;margin-right:%?50?%}.outerr .outer[data-v-3af7047e]{position:relative;height:%?936?%;overflow:hidden;background-color:#000131;box-sizing:border-box}.outerr .outer .title[data-v-3af7047e]{margin-top:%?10?%;position:absolute;width:100%;text-align:center;color:#ffbeb8;font-weight:600}.outerr .outer .ulClass[data-v-3af7047e]{height:%?720?%;margin-top:%?70?%;box-sizing:border-box}.outerr .outer .ulClass .liClass[data-v-3af7047e]{padding:0 %?100?%;line-height:%?65?%}.outerr .outer .backBtn[data-v-3af7047e]{z-index:6;position:absolute;bottom:%?50?%;left:%?40?%}",""]),e.exports=t},a884:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={myBar:n("dd55").default,towBorder:n("39a9").default,colorsBtn:n("994c").default,yBtn:n("7c7e").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"outerr"},[n("myBar"),n("v-uni-view",{staticClass:"outer"},[n("towBorder",{staticStyle:{"z-index":"4"}}),n("v-uni-view",{staticClass:"title"},[n("v-uni-text",[e._v("初值培养")])],1),n("v-uni-scroll-view",{staticClass:"ulClass",attrs:{"scroll-y":"true"}},[n("v-uni-view",{staticClass:"liClass"},[n("v-uni-text",{staticStyle:{color:"gold"}},[e._v("你现在有"+e._s(e.tokenNum)+"枚将军令\\n")]),n("v-uni-text",[e._v("副将："+e._s(e.general.nikename)+"\\n")]),n("v-uni-text",[e._v("该副将初值")])],1),n("v-uni-view",{staticClass:"liClass"},e._l(e.btns,(function(t,a){return n("v-uni-view",{key:t.name},[n("v-uni-text",[e._v(e._s(t.name)+"："+e._s(e.general[t.dbText]))]),n("v-uni-view",{staticClass:"btn",style:"opacity: "+t.opa+";",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.tap(t.dbText,a)}}},[n("colorsBtn",{attrs:{color:"p",text:"培养",flashOnce:!0}})],1)],1)})),1),n("v-uni-view",{staticClass:"liClass"},[n("v-uni-view",{staticStyle:{"padding-top":"20rpx",color:"#ffbeb8"}},[n("v-uni-text",[e._v("该副将的最优数据:\\n")]),n("v-uni-text",[e._v("成长率："+e._s(e.genBook&&e.genBook.upRate[1])+"\\n")]),n("v-uni-text",[e._v("气血："+e._s(e.genBook&&e.genBook.hpRate[1])+"\\n")]),n("v-uni-text",[e._v("精力："+e._s(e.genBook&&e.genBook.mpRate[1])+"\\n")]),n("v-uni-text",[e._v("攻击："+e._s(e.genBook&&e.genBook.powerRate[1])+"\\n")]),n("v-uni-text",[e._v("速度："+e._s(e.genBook&&e.genBook.speedRate[1])+"\\n")])],1),n("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.explain.apply(void 0,arguments)}}},[n("colorsBtn",{attrs:{color:"p",text:"副将初值说明",flashOnce:!0}})],1)],1)],1),n("v-uni-view",{staticClass:"backBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.back.apply(void 0,arguments)}}},[n("yBtn",{attrs:{buttonType:"text",text:"返回",stopFlash:e.stopFlash}})],1)],1)],1)},r=[]},c069:function(e,t,n){"use strict";n.r(t);var a=n("dbc6b"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},dbc6b:function(e,t,n){"use strict";(function(e){var a=n("4ea4");n("7db0"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("b85c"));n("96cf");var r=a(n("1da1")),i=e.database(),u={data:function(){return{btns:[{name:"成长率",dbText:"uprate",opa:.5},{name:"气血",dbText:"hprate",opa:.5},{name:"精力",dbText:"mprate",opa:.5},{name:"攻击",dbText:"powerrate",opa:.5},{name:"速度",dbText:"speedrate",opa:.5}],genBook:null,tokenNum:null,general:null,stopFlash:!1}},onLoad:function(t){var n=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var r,u,s,l,c,d,f,v;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.general=JSON.parse(t.general),uni.showLoading({title:"",mask:!0}),r=uni.getStorageSync("accountId"),a.next=5,i.collection("appendage").where({accountid:r}).get();case 5:return u=a.sent,n.tokenNum=u.result.data[0].za[0],a.next=9,e.callFunction({name:"generalBook",data:{name:n.general.nikename}});case 9:s=a.sent,n.genBook=s.result[1],uni.hideLoading(),l=(0,o.default)(n.btns);try{for(l.s();!(c=l.n()).done;)d=c.value,f=d.dbText.replace("rate","Rate"),v=n.genBook[f][1],n.general[d.dbText]<v&&(d.opa=1)}catch(g){l.e(g)}finally{l.f()}case 14:case"end":return a.stop()}}),a)})))()},methods:{tap:function(t,n){var a=this;return(0,r.default)(regeneratorRuntime.mark((function o(){var r,i,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(1==a.btns[n].opa){o.next=2;break}return o.abrupt("return");case 2:if(!(a.tokenNum<1)){o.next=5;break}return uni.showModal({content:"将军令不足，请重新选择",showCancel:!1}),o.abrupt("return");case 5:return uni.showLoading({title:"",mask:!0}),o.next=8,e.callFunction({name:"MY-USERFUNCTION",data:{action:"tokenTrain",params:{accountId:uni.getStorageSync("accountId"),trainItem:t,id:a.general._id}}});case 8:if(r=o.sent,uni.hideLoading(),r.result.errCode)uni.showModal({content:r.result.msg,showCancel:!1});else for(u in a.tokenNum--,i=function(e){a.general[e]=r.result[e];var t=e.replace("rate","Rate");a.genBook[t][1]<=r.result[e]&&(a.btns.find((function(t){return t.dbText==e})).opa=.5)},r.result)i(u);case 11:case"end":return o.stop()}}),o)})))()},back:function(){var e=this;i.collection("general").where({accountid:uni.getStorageSync("accountId")}).get().then((function(t){var n=t.result.data;e.stopFlash=!0,uni.navigateTo({url:"/pages/gongNeng/fuJiang/fuJiang?generals="+JSON.stringify(n)})}))},explain:function(){uni.showModal({content:"初值都不知道是什么你活着干嘛",showCancel:!1})}}};t.default=u}).call(this,n("a9ff")["default"])},fa25:function(e,t,n){"use strict";var a=n("50f5"),o=n.n(a);o.a}}]);