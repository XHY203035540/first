(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-gongNeng-roleState-setGifts-setGifts"],{"3b5c4":function(t,a,e){"use strict";e.r(a);var n=e("f0a6"),i=e("9c34");for(var s in i)"default"!==s&&function(t){e.d(a,t,(function(){return i[t]}))}(s);e("d14f");var d,l=e("f0c5"),r=Object(l["a"])(i["default"],n["b"],n["c"],!1,null,"4ce206ca",null,!1,n["a"],d);a["default"]=r.exports},"8b11":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".btn[data-v-4ce206ca]{display:inline-block}.lightBG[data-v-4ce206ca]{background-color:#192152}.outerr .outer[data-v-4ce206ca]{position:relative;height:%?936?%;overflow:hidden;background-color:#000131;box-sizing:border-box}.outerr .outer .title[data-v-4ce206ca]{margin-top:%?10?%;position:absolute;width:100%;text-align:center;color:#ffbeb8;font-weight:600}.outerr .outer .ulClass[data-v-4ce206ca]{height:%?760?%;margin-top:%?60?%;box-sizing:border-box}.outerr .outer .ulClass .liClass[data-v-4ce206ca]{margin-top:%?10?%;padding:0 %?85?%;line-height:%?60?%}.outerr .outer .ulClass .liClass .inputs[data-v-4ce206ca]{display:inline-block;vertical-align:-25%;background-color:#a1a2ac;width:%?400?%}.outerr .outer .backBtn[data-v-4ce206ca]{z-index:6;position:absolute;bottom:%?50?%;left:%?40?%}",""]),t.exports=a},"9c34":function(t,a,e){"use strict";e.r(a);var n=e("ed83"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,(function(){return n[t]}))}(s);a["default"]=i.a},d14f:function(t,a,e){"use strict";var n=e("ee79"),i=e.n(n);i.a},ed83:function(t,a,e){"use strict";(function(t){var n=e("4ea4");e("caad"),e("e25e"),e("2532"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("96cf");var i=n(e("1da1")),s={onLoad:function(t){for(var a in t.myInf=JSON.parse(t.myInf),this.myInf=t.myInf,this.defLeftG=t.myInf.leftgift,t.myInf)a.includes("gift")&&"leftgift"!=a&&this.allGifts.push({name:a,value:t.myInf[a]})},data:function(){return{defLeftG:null,addDeNum:0,addNum:[null,null,null,null],addG:{addG0:null,addG1:null,addG2:null,addG3:null},texts:[["气血","体质点"],["精力","智力点"],["攻击","力量点"],["速度","速度点"]],myInf:null,allGifts:[]}},methods:{allIn:function(t){this.addG["addG"+t]=this.myInf.leftgift},formatt:function(){for(var t in this.addG)this.addG[t]=parseInt(this.addG[t])?parseInt(this.addG[t]):null},sendSet:function(){var a=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,i,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(d in n=0,i=[],s=a.headpicture?"account":"general",a.addG)a.addG[d]=parseInt(a.addG[d])?parseInt(a.addG[d]):0,a.addG[d]&&(n+=parseInt(a.addG[d])),i.push(a.addG[d]);if(!(n>a.defLeftG)){e.next=9;break}uni.showModal({content:"请正确输入",showCancel:!1}),a.reset(),e.next=24;break;case 9:return uni.showLoading({title:"",mask:!0}),e.next=12,t.callFunction({name:"MY-USERFUNCTION",data:{action:"setGifts",params:{id:a.myInf._id,fourGifts:i,table:s}}});case 12:uni.hideLoading(),uni.showModal({content:"分配成功！",showCancel:!1}),a.myInf.maxhp+=a.addNum[0],a.allGifts[0].value+=a.addG.addG0,a.myInf.maxmp+=a.addNum[1],a.allGifts[1].value+=a.addG.addG1,a.myInf.power+=a.addNum[2],a.allGifts[2].value+=a.addG.addG2,a.myInf.speed+=a.addNum[3],a.allGifts[3].value+=a.addG.addG3,a.defLeftG-=n,a.reset();case 24:case"end":return e.stop()}}),e)})))()},reset:function(){for(var t in this.addG)this.addG[t]=null},back:function(){uni.navigateBack()}},watch:{addG:{handler:function(t,a){for(var e=[],n=parseInt(t.addG0),i=parseInt(t.addG1),s=parseInt(t.addG2),d=parseInt(t.addG3),l=0,r=0;r<4;r++)parseInt(t["addG"+r])&&(l+=parseInt(t["addG"+r]));this.myInf.leftgift=this.defLeftG-l,e.push(parseInt(this.myInf.level*n)),this.addDeNum=parseInt(e[0]/20),e.push(parseInt(this.myInf.level*i)),e.push(parseInt(this.myInf.level*s/4)),e.push(parseInt(d)),this.addNum=e},deep:!0}}};a.default=s}).call(this,e("a9ff")["default"])},ee79:function(t,a,e){var n=e("8b11");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=e("4f06").default;i("0f824bdd",n,!0,{sourceMap:!1,shadowMode:!1})},f0a6:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return n}));var n={myBar:e("dd55").default,towBorder:e("39a9").default,colorsBtn:e("994c").default,yBtn:e("7c7e").default},i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"outerr"},[e("myBar"),e("v-uni-view",{staticClass:"outer"},[e("towBorder",{staticStyle:{"z-index":"4"}}),e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v("分配属性点")])],1),e("v-uni-scroll-view",{staticClass:"ulClass",attrs:{"scroll-y":"true"}},[e("v-uni-view",{staticClass:"liClass",staticStyle:{color:"gold"}},[t._v("目前剩余点数："+t._s(t.myInf.leftgift))]),t._l(t.allGifts,(function(a,n){return e("v-uni-view",{key:n,staticClass:"liClass",class:n%2?"":"lightBG"},[e("v-uni-text",[t._v(t._s(t.texts[n][0])+":"+t._s(t.myInf[("hpgift"==t.allGifts[n].name||"mpgift"==t.allGifts[n].name?"max":"")+t.allGifts[n].name.replace("gift","")])+"(+"+t._s(t.addNum[n]?t.addNum[n]:0)+")")]),n?t._e():e("v-uni-text",[t._v(t._s(" ")+"防御:"+t._s(parseInt(t.myInf.maxhp/20))+"(+"+t._s(t.addDeNum?t.addDeNum:0)+")\\n")]),e("v-uni-text",[t._v(t._s(" "+t.texts[n][1])+":"+t._s(t.allGifts[n].value)+"(+"+t._s(t.addG["addG"+n]?t.addG["addG"+n]:0)+")\\n")]),e("v-uni-view",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.allIn(n)}}},[e("colorsBtn",{attrs:{color:"p",text:"分配全部",flashOnce:!0}})],1),e("v-uni-view",[e("v-uni-input",{staticClass:"inputs",attrs:{type:"number",placeholder:"请输入自由分配点数"},on:{blur:function(a){arguments[0]=a=t.$handleEvent(a),t.formatt.apply(void 0,arguments)}},model:{value:t.addG["addG"+n],callback:function(a){t.$set(t.addG,"addG"+n,a)},expression:"addG['addG' + index]"}})],1)],1)})),e("v-uni-view",{staticClass:"liClass"},[e("v-uni-view",{staticClass:"btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.sendSet.apply(void 0,arguments)}}},[e("colorsBtn",{attrs:{color:"r",text:"确认分配",flashOnce:!0}})],1),e("v-uni-view",{staticClass:"btn",staticStyle:{"margin-left":"30rpx"},attrs:{url:""},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.reset.apply(void 0,arguments)}}},[e("colorsBtn",{attrs:{color:"b",text:"重新分配",flashOnce:!0}})],1)],1),e("v-uni-text",[t._v("\\n\\n")])],2),e("v-uni-view",{staticClass:"backBtn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.back.apply(void 0,arguments)}}},[e("yBtn",{attrs:{buttonType:"text",text:"返回",stopFlash:"no"}})],1)],1)],1)},s=[]}}]);